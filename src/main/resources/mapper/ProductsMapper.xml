<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cy.store.mapper.ProductsMapper">
  <resultMap id="BaseResultMap" type="com.cy.store.entity.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 26 10:41:32 CST 2023.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="category" jdbcType="VARCHAR" property="category" />
    <result column="item_type" jdbcType="VARCHAR" property="itemType" />
    <result column="sell_point" jdbcType="VARCHAR" property="sellPoint" />
    <result column="price" jdbcType="INTEGER" property="price" />
    <result column="num" jdbcType="INTEGER" property="num" />
    <result column="kind_1" jdbcType="INTEGER" property="kind1" />
    <result column="kind_2" jdbcType="INTEGER" property="kind2" />
    <result column="color" jdbcType="VARCHAR" property="color" />
    <result column="width" jdbcType="INTEGER" property="width" />
    <result column="depth" jdbcType="INTEGER" property="depth" />
    <result column="height" jdbcType="INTEGER" property="height" />
    <result column="status" jdbcType="INTEGER" property="status" />
    <result column="priority" jdbcType="INTEGER" property="priority" />
    <result column="created_time" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime" />
    <result column="created_user" jdbcType="VARCHAR" property="createdUser" />
    <result column="modified_user" jdbcType="VARCHAR" property="modifiedUser" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 26 10:41:32 CST 2023.
    -->
    delete from t_product
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" useGeneratedKeys="true" parameterType="com.cy.store.entity.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 26 10:41:32 CST 2023.
    -->
    insert into t_product (id, title, category,
    item_type, sell_point, price,
    num, kind_1, kind_2,
    color, width, depth,
    height, status, priority,
    created_time, modified_time, created_user,
    modified_user)
    values (#{id,jdbcType=INTEGER}, #{title,jdbcType=VARCHAR}, #{category,jdbcType=VARCHAR},
    #{itemType,jdbcType=VARCHAR}, #{sellPoint,jdbcType=VARCHAR}, #{price,jdbcType=INTEGER},
    #{num,jdbcType=INTEGER}, #{kind1,jdbcType=INTEGER}, #{kind2,jdbcType=INTEGER},
    #{color,jdbcType=VARCHAR}, #{width,jdbcType=INTEGER}, #{depth,jdbcType=INTEGER},
    #{height,jdbcType=INTEGER}, #{status,jdbcType=INTEGER}, #{priority,jdbcType=INTEGER},
    #{createdTime,jdbcType=TIMESTAMP}, #{modifiedTime,jdbcType=TIMESTAMP}, #{createdUser,jdbcType=VARCHAR},
    #{modifiedUser,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.cy.store.entity.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 26 10:41:32 CST 2023.
    -->
    update t_product
    set title = #{title,jdbcType=VARCHAR},
    category = #{category,jdbcType=VARCHAR},
    item_type = #{itemType,jdbcType=VARCHAR},
    sell_point = #{sellPoint,jdbcType=VARCHAR},
    price = #{price,jdbcType=INTEGER},
    num = #{num,jdbcType=INTEGER},
    kind_1 = #{kind1,jdbcType=INTEGER},
    kind_2 = #{kind2,jdbcType=INTEGER},
    color = #{color,jdbcType=VARCHAR},
    width = #{width,jdbcType=INTEGER},
    depth = #{depth,jdbcType=INTEGER},
    height = #{height,jdbcType=INTEGER},
    status = #{status,jdbcType=INTEGER},
    priority = #{priority,jdbcType=INTEGER},
    created_time = #{createdTime,jdbcType=TIMESTAMP},
    modified_time = #{modifiedTime,jdbcType=TIMESTAMP},
    created_user = #{createdUser,jdbcType=VARCHAR},
    modified_user = #{modifiedUser,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 26 10:41:32 CST 2023.
    -->
    select *
    from t_product
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 26 10:41:32 CST 2023.
    -->
    select *
    from t_product
  </select>
  <select id="selectByMultiple" resultMap="BaseResultMap">
    select * from t_product
    <where>
      <if test="kind1 != null and kind1 != '' and kind1 != 0  ">
        and kind_1 = #{kind1}
      </if>
      <if test="kind2 != null and kind2 != '' and kind2 != 0  ">
        and kind_2 = #{kind2}
      </if>
      <if test="color != null and color != ''">
        and category like concat('%',#{color},'%')
      </if>
      <if test="material != null and material != ''">
        and category like concat('%',#{material},'%')
      </if>
      <if test="minPrice != null">
        AND price &gt;= #{minPrice}
      </if>
      <if test="maxPrice != null">
        AND price &lt;= #{maxPrice}
      </if>
      <if test="minWidth != null">
        AND width &gt;= #{minWidth}
      </if>
      <if test="maxWidth != null">
        AND width &lt;= #{maxWidth}
      </if>
      <if test="minDepth != null">
        AND depth &gt;= #{minDepth}
      </if>
      <if test="maxDepth != null">
        AND depth &lt;= #{maxDepth}
      </if>
      <if test="minHeight != null">
        AND height &gt;= #{minHeight}
      </if>
      <if test="maxHeight != null">
        AND height &lt;= #{maxHeight}
      </if>
    </where>
    order by
    <choose>
      <when test="priceSort == 2">
        price desc
      </when>
      <when test="priceSort == 1">
        price asc
      </when>

      <otherwise>

      </otherwise>
    </choose>
  </select>
</mapper>